/**
 * Kollus VG Controller Client (09-16-2020)
 * Copyright (c) 2020, Catenoid Incorporated. All rights reserved.
 *
 * @version 1.1.15 (2412)
 * @license ISC
 */


!function(a){"use strict";var b=function(b,c,d){var e=b,f=function(b,c,d,e){var g=b.split("."),h=g.shift();e=e||a.Modules.storage,e[h]=e[h]||{},g.length>0?f(g.join("."),c,d,e[h]):e[h][c]=d()};f(e,c,d)},c=function(b,c){if(void 0===b||void 0===c)throw new Error("Modules.get method must called with module name and namespace param.");for(var d=b.split("."),e=a.Modules.storage,f=0;f<d.length;f++){e=e[d[f]]}return e[c]};a.VgControllerException=function(a,b){this.message=a,this.code=b||-1,this.toString=function(){return this.message+" ["+this.code+"]"}},a.Modules=a.Modules||{},a.Modules.storage=a.Modules.storage||{},a.Modules.add=a.Modules.add||b,a.Modules.get=a.Modules.get||c}(window),function(a){Modules.add("com.kollus.vgcontroller","Config",a)}(function(){"use strict";return{debug_mode:!1,max_initialize_count:10,progress:{percent:0,position:0,duration:0},screen:"windowed",volume:50,muted:!1,jumpstep:10,scalemode:"letterbox",control_visibility:!0,controls_inactive_time:3,controlbar_progress_only:!1,controlbar_hide_playing:!1,video_visibility:!0,speed:1,playback_rates:"[0.5, 1, 1.5, 2]",topmost:!1,video:{brightness:0,contrast:0,saturation:0},subtitle_visibility:!0,subtitle_activity:!1,subtitle_shadow_rect:!1,repeat_stat:{status:"cancel",start:0,end:0},permission_request_message:{ko:"�숈옉 諛� 諛⑺뼢 �� 愿��� 沅뚰븳�� �놁뼱 �먯씠濡� 湲곕뒫�� �숈옉�섏� �딆뒿�덈떎. �ㅼ젙 > Safari > 怨좉툒 > �� �ъ씠�� �곗씠�� �먯꽌 �곗씠�곕� ��젣 �섍퀬 �ㅼ떆 �쒕룄�섏꽭��.",en:"The gyroscope is not working. Motion sensor access permission is required. Please remove the web site data(Settings > Safari > advanced > Website Data) and try again.",ja:'�뺜퐳�ⓩ뼶��"�멥겗�㏂궚�삠궧與⑶솏�뚣겒�꾠걼�곥궦�ｃ궎��궧�녈꺖�쀣걣�뺜퐳�쀣겲�쎼굯�귟Þ若� > Safari > 屋녕눗 > Web�듐궎�덀깈�쇈궭�뗣굢�뉎꺖�욍굮�딃솮�쀣겍�띶벧�딂ĳ�쀣걦�졼걬��',zh:"���뷰빽�잒꺗訝띹돈鵝쒐뵪竊뚨쉪�졽맏亦→쐣�ⓧ퐳訝롨���쓢�먦�귛쑉溫양쉰 > safari役뤺쭏�� > 遙섊벨 > 營묊쳶�경뜮 歷낂솮�경뜮�롨��띹캊��"}}});var NAMESPACE="com.kollus.vgcontroller";!function(a){Modules.add(NAMESPACE,"Util",a)}(function(){"use strict";return{isArray:function(a){return!!a&&"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isString:function(a){return"string"==typeof a},mergeObject:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},hasValueInObject:function(a,b){for(var c in a)if(b===a[c])return!0;return!1},queryString:function(a,b){for(var c,d=[],e=!1,f=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),g=0;g<f.length;g++)c=f[g].split("="),d.push(c[0]),d[c[0]]=c[1],c[0]===a&&(e=!0);return b?e:a?d[a]:d}}});var NAMESPACE="com.kollus.vgcontroller";!function(a){Modules.add(NAMESPACE,"Environment",a)}(function(){"use strict";return{isMobileDevice:function(a){var b=["Android","webOS","iPhone","iPod","BlackBerry","IEMobile","Opera Mini"];return void 0!==a&&(b=b.concat(a)),new RegExp(b.join("|"),"i").test(navigator.userAgent)||this.isIosWithMultiTouchPoint()},isIosWithMultiTouchPoint:function(){return!!new RegExp("(Macintosh)","i").test(navigator.userAgent)&&navigator.maxTouchPoints>0},isMobileDeviceWithIPad:function(){return this.isMobileDevice(["iPad"])},isIos:function(){return new RegExp("iPhone|iPad","i").test(navigator.userAgent)||this.isIosWithMultiTouchPoint()},isSupportHTML5Video:function(){try{var a=document.createElement("video");return a.canPlayType('video/mp4; codecs="avc1.42E01E"')||a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}catch(a){return!1}},isSupportMSE:function(a){try{return MediaSource.isTypeSupported(a),!0}catch(a){return!1}},getChromeVersion:function(){var a=navigator.userAgent.match(/.*Chrome\/([0-9]+)/);return a?parseInt(a[1],10):null},getFirefoxVersion:function(){var a=navigator.userAgent.match(/.*Firefox\/([0-9]+)/);return a?parseInt(a[1],10):null},getLocale:function(){var a=function(){return(navigator.language||navigator.browserLanguage||navigator.userLanguage||"en").toLowerCase()},b=a().substr(0,2);return"ko"!==b&&"en"!==b&&"ja"!==b&&"zh"!==b&&(b="en"),"zh"===b&&"zh-cn"!==a()&&(b="en"),b}}});var NAMESPACE="com.kollus.vgcontroller";!function(a){Modules.add(NAMESPACE,"Logger",a)}(function(){"use strict";var a,b=Modules.get(NAMESPACE,"Config"),c=!!b&&Modules.get(NAMESPACE,"Config").debug_mode,d=function(b,d,e,f){c&&(window.console||(console={log:function(){}}),e?d="["+e+"] "+d:a&&(d="["+a+"] "+d),console[b](d),f&&alert(d))};return{defaultPrefix:function(b){a=b},log:function(a,b,c){d("log",a,b,c)},info:function(a,b,c){d("info",a,b,c)},warn:function(a,b,c){d("warn",a,b,c)},error:function(a,b,c){d("error",a,b,c)}}});var NAMESPACE="com.kollus.vgcontroller",PLAYER_TYPE={V2:"v2",V3:"v3",V4:"v4",FLASH:"flash",VIDEOJS:"videojs",KOLLUS:"kollus"};!function(a){Modules.add(NAMESPACE,"VgControllerLibrary",a)}(function(){"use strict";var a,b,c,d,e,f,g=(Modules.get(NAMESPACE,"Config"),Modules.get(NAMESPACE,"Util")),h=Modules.get(NAMESPACE,"Logger"),i=!1,j={target_window:null,target_origin:"*",includeUserActivation:!1};window.vg_controller_uid=window.vg_controller_uid||0;var k=function(h,k,l){if(void 0===window.postMessage)throw new VgControllerException("this browser does not support postMessage",-99);if(k.hasOwnProperty("player_type")){if(!g.hasValueInObject(PLAYER_TYPE,k.player_type))throw new VgControllerException("player type must be one of v2, v3, v4 and flash.",-99)}else k.player_type=PLAYER_TYPE.KOLLUS;a=h,b=g.mergeObject(j,k),e={},c=b.player_type,d=null,b.use_uid_check&&(d=b.player_type+"-postmessage-"+window.vg_controller_uid++),f=[],i||(window.addEventListener?window.addEventListener("message",function(a){Modules.get("com.kollus.vgcontroller","VgControllerLibrary").receive(a)},!1):window.attachEvent("onmessage",function(a){Modules.get("com.kollus.vgcontroller","VgControllerLibrary").receive(a)})),i=!0,l()};return{init:function(a,b,c){return k(a,b,c)},getVersion:function(){return"1.1.15 (2412)"},getPlayerType:function(){return c},on:function(a,b){if("function"!=typeof b)throw new VgControllerException("listener is not callable.",-99);return void 0===e[a]&&(e[a]=[]),e[a].push(b),Modules.get("com.kollus.vgcontroller","VgControllerLibrary")},off:function(a){if(void 0!==e[a]){for(var b=0,c=e[a].length;b<c;b++)e[a][b]=null;e[a]=[]}return Modules.get("com.kollus.vgcontroller","VgControllerLibrary")},trigger:function(){if(arguments.length>=1){var a=Array.prototype.slice.call(arguments),b=a.shift();if(void 0!==e[b])for(var c=0,d=e[b].length;c<d;c++)e[b][c].apply(this,a)}},sendBufferedData:function(){var a=f.slice();for(f.length=0;a.length>0;){var b=a.shift();h.log("Send buffered data : "+b),Modules.get("com.kollus.vgcontroller","VgControllerLibrary").send(b[0],b[1])}},push:function(a,b){f.push([a,b])},send:function(a,c){if(null===d)return f.push([a,c]),!1;if(f.length>0)return f.push([a,c]),Modules.get("com.kollus.vgcontroller","VgControllerLibrary").sendBufferedData();if(null!==b.target_window){var e="client"===b.controller_type?"c_":"e_";h.log("[SEND] event_name: "+e+a+", data: "+JSON.stringify(c)+", uid: "+d);var g={event_name:e+a,uid:d};return void 0!==c&&(g.data=c),1==b.target_window.postMessage.length?b.target_window.postMessage(JSON.stringify(g),{includeUserActivation:!0,targetOrigin:b.target_origin}):b.target_window.postMessage(JSON.stringify(g),b.target_origin)}return!1},receive:function(a){if("*"!==b.target_origin&&b.target_origin!==a.origin)return h.error("[RECEIVE] - event received, but origin not match. (target_origin: "+b.target_origin+", event.origin: "+a.origin+")"),!1;var c;try{c=JSON.parse(a.data)}catch(a){}if(void 0===c)return!1;try{var e=c.data;return!0===b.use_uid_check&&d!==c.uid?(h.error("[RECEIVE] - not matched uid. this.uid -> "+this.uid+", message.uid -> "+c.uid),!1):(!1===b.use_uid_check&&null===d&&(h.warn("[RECEIVE] - no use_uid_check. message.uid will be set to this.uid. mesasge.uid -> "+c.uid),d=c.uid),b.is_child&&null===b.target_window&&(h.warn("[RECEIVE] - this window is child. target_window will be set as event.source."),b.target_window=window.parent),h.log("[RECEIVE] event_name: "+c.event_name+", data: "+JSON.stringify(e)+", uid: "+d),Modules.get("com.kollus.vgcontroller","VgControllerLibrary").trigger(c.event_name,e,a))}catch(a){throw new VgControllerException(a.message,-1)}},getEventListeners:function(){return e},removeAllEventListeners:function(){e={}}}}),function(a){Modules.add("com.kollus.vgcontroller","CacheStorage",a)}(function(){"use strict";var a,b="com.kollus.vgcontroller",c=Modules.get(b,"Config"),d=(Modules.get(b,"Util"),{});try{window.localStorage.setItem("checkLocalStorage","available"),window.localStorage.removeItem("checkLocalStorage"),a={getItem:function(a){return window.localStorage.getItem(a)},setItem:function(a,b){return window.localStorage.setItem(a,b),!0},removeItem:function(a){return window.localStorage.removeItem(a),!0}}}catch(b){a={getItem:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(a,b){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var c="";switch((1/0).constructor){case Number:c="; expires=Fri, 31 Dec 9999 23:59:59 GMT";break;case String:c="; expires="+1/0;break;case Date:c="; expires="+(1/0).toUTCString()}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+c+'; path="/"',!0},removeItem:function(a){return!!this.hasItem(a)&&(document.cookie=encodeURIComponent(a)+'=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path="/"',!0)},hasItem:function(a){return a?new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):null}}}return{namespace:function(){return b},get_local_storage_item:function(b){return a.getItem(b)},set_local_storage_item:function(b,c){return a.setItem(b,c)},remove_local_storage_item:function(b){return a.removeItem(b)},set_main_media_subtitles:function(a){d.main_media_subtitles=a},get_main_media_subtitles:function(){return d.main_media_subtitles},set_progress:function(a){d.progress=a},get_progress:function(){return void 0!==d.progress?d.progress:c.progress},set_screen:function(a){d.screen=a},get_screen:function(){return void 0!==d.screen?d.screen:c.screen},set_volume:function(a){d.volume=a},get_volume:function(){return void 0!==d.volume?d.volume:c.volume},set_muted:function(a){d.muted=a},get_muted:function(){return void 0!==d.muted?d.muted:c.muted},set_jumpstep:function(a){d.jumpstep=a},get_jumpstep:function(){return void 0!==d.jumpstep?d.jumpstep:c.jumpstep},set_scalemode:function(a){d.scalemode=a},get_scalemode:function(){return void 0!==d.scalemode?d.scalemode:c.scalemode},set_control_visibility:function(a){d.control_visibility=a},get_control_visibility:function(){return void 0!==d.control_visibility?d.control_visibility:c.control_visibility},set_video_visibility:function(a){d.video_visibility=a},get_video_visibility:function(){return void 0!==d.video_visibility?d.video_visibility:c.video_visibility},set_speed:function(a){d.speed=a},get_speed:function(){return void 0!==d.speed?d.speed:c.speed},set_playback_rates:function(a){d.playback_rates=a},get_playback_rates:function(){return void 0!==d.playback_rates?d.playback_rates:c.playback_rates},set_topmost:function(a){d.topmost=a},get_topmost:function(){return void 0!==d.topmost?d.topmost:c.topmost},set_video:function(a){d.video=a},get_video:function(){return void 0!==d.video?d.video:c.video},set_subtitle_visibility:function(a){d.subtitle_visibility=a},get_subtitle_visibility:function(){return void 0!==d.subtitle_visibility?d.subtitle_visibility:c.subtitle_visibility},set_subtitle_activity:function(a){d.subtitle_activity=a},get_subtitle_activity:function(){return void 0!==d.subtitle_activity?d.subtitle_activity:c.subtitle_activity},set_player_id:function(a){d.player_id=a},get_player_id:function(){return d.player_id||null},set_player_type:function(a){d.player_type=a},get_player_type:function(){return d.player_type||null},set_hardware_id:function(a){d.hardware_id=a},get_hardware_id:function(){return d.hardware_id||null},set_video_info:function(a){d.video_info=a},get_video_info:function(){return d.video_info||null},set_enable_close_event:function(a){d.enable_close_event=a},get_enable_close_event:function(){return d.enable_close_event||!1},set_close_callback_fn:function(a){d.close_callback_fn="("+a.toString()+")()"},get_close_callback_fn:function(){return d.close_callback_fn||null},set_lms_data_callback_fn:function(a){d.get_lms_data_fn=a},get_lms_data_callback_fn:function(){return d.get_lms_data_fn||null},set_hls_frag_data:function(a){d.hls_frag_data=a},get_hls_frag_data:function(){return d.hls_frag_data||null},set_controls_inactive_time:function(a){d.controls_inactive_time=a},get_controls_inactive_time:function(){return void 0!==d.controls_inactive_time?d.controls_inactive_time:c.controls_inactive_time},set_subtitle_shadow_rect:function(a){d.subtitle_shadow_rect=a},get_subtitle_shadow_rect:function(){return void 0!==d.subtitle_shadow_rect?d.subtitle_shadow_rect:c.subtitle_shadow_rect},set_controlbar_progress_only:function(a){d.controlbar_progress_only=a},get_controlbar_progress_only:function(){return void 0!==d.controlbar_progress_only?d.controlbar_progress_only:c.controlbar_progress_only},set_controlbar_hide_playing:function(a){d.controlbar_hide_playing=a},get_controlbar_hide_playing:function(){return void 0!==d.controlbar_hide_playing?d.controlbar_hide_playing:c.controlbar_hide_playing},set_repeat_stat:function(a){if("number"==typeof a.status){var b=["cancel","start","end"];a.status=b[a.status]}c.repeat_stat=a},get_repeat_stat:function(){return c.repeat_stat},set_error_detail:function(a,b,c){d.error_detail={code:a,message:b,param:c}},get_error_detail:function(){return void 0!==d.error_detail?d.error_detail:null},set_device_orientation:function(a){d.device_orientation=a},get_device_orientation:function(){return d.device_orientation},set_custom_error:function(a,b,c){var e={code:a,message:b,param:c};if(d.custom_error)for(var f=0;f<d.custom_error.length;f++){var g=d.custom_error[f];if(a===g.code)return d.custom_error.message=b,d.custom_error.param=c,g}else d.custom_error=[];return d.custom_error.push(e),e},get_custom_error:function(){return d.custom_error||[]},set_subtitle_font_size:function(a){d.subtitle_font_size=a},get_subtitle_font_size:function(){return d.subtitle_font_size}}});var NAMESPACE="com.kollus.vgcontroller",VgControllerClient=function(a){"use strict";var b,c,d=Modules.get(NAMESPACE,"Config"),e=Modules.get(NAMESPACE,"Logger"),f=Modules.get(NAMESPACE,"Util"),g=Modules.get(NAMESPACE,"Environment"),h=Modules.get(NAMESPACE,"CacheStorage"),i=Modules.get(NAMESPACE,"VgControllerLibrary"),j={controller_type:"client",use_uid_check:!0,is_child:!1},k=function(){i.init(null,f.mergeObject(j,a),l);var b=u();for(var c in b)i.on("e_"+c,b[c])},l=function(){e.defaultPrefix("VG Controller Client"),e.log("Connect to server...");var a=!1,b=0;i.on("e_initialized",function(b){a=!0,h.set_player_type(b)});var c=setInterval(function(){a?(clearInterval(c),e.log("Initialize success.")):++b>=d.max_initialize_count?(clearInterval(c),e.log("Initialize failed. max initialize try reached.")):(e.log("Send initialize command. try "+b+" time..."),i.send("initialize",i.getVersion()))},1e3)},m=function(a,c){a?(clearInterval(b),setTimeout(function(){i.send("is_connected"),c=0,b=setInterval(function(){m(!1,c++)},1e3)},3e3)):c>3&&(clearInterval(b),t())},n=function(a){if(!g.isMobileDeviceWithIPad())return!1;if(!window.DeviceMotionEvent||"function"!=typeof window.DeviceMotionEvent.requestPermission)return!1;if(h.get_local_storage_item("device_motion_permission"))return!1;var b={permission_request_help_message:d.permission_request_message[g.getLocale()],target_element:null},c=f.mergeObject(b,a);if(c.target_element){var e=document.createElement("div");e.className="vr-overlay",e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.top="0",e.style.left="0",e.addEventListener("touchend",function(){o(c)}),c.target_element.insertBefore(e,c.target_element.firstChild)}},o=function(a){document.querySelectorAll(".vr-overlay").forEach(function(b){b.removeEventListener("touchend",function(){o(a)}),a.target_element.removeChild(b)});try{DeviceMotionEvent.requestPermission().then(function(b){"denied"===b?alert(a.permission_request_help_message):"granted"===b&&h.set_local_storage_item("device_motion_permission",!0)}).catch(function(a){console.error(a)})}catch(a){console.error("DeviceMotionEvent is not defined")}finally{i.send("play")}},p=function(){c=setInterval(function(){var a;window.matchMedia("(orientation: portrait)").matches?a="portrait":window.matchMedia("(orientation: landscape)").matches&&(a="landscape"),h.get_device_orientation()!==a&&(h.set_device_orientation(a),i.send("set_device_orientation",a),i.trigger("device_orientation_changed",a))},1e3)},q=function(){window.DeviceMotionEvent&&window.addEventListener("devicemotion",r)},r=function(a){i.send("set_device_motion",JSON.stringify({rotationRate:a.rotationRate}))},s=function(a){window.location.href=a},t=function(){console.warn("VG-Controller is disconnected!"),clearInterval(c),i.removeAllEventListeners(),window.removeEventListener("devicemotion",r)},u=function(){return{open:function(){i.trigger("open")},connected:function(){m(!0)},ready:function(){i.trigger("ready")},loaded:function(){i.trigger("loaded")},play:function(){i.trigger("play")},pause:function(){i.trigger("pause")},seeking:function(){i.trigger("seeking")},seeked:function(){i.trigger("seeked")},done:function(){i.trigger("done")},muted:function(a){h.set_muted(a),i.trigger("muted",a)},progress:function(a){var b=1*a.percent,c=1*a.position,d=1*a.duration;h.set_progress({percent:b,position:c,duration:d}),i.trigger("progress",b,c,d)},speedchange:function(a){h.set_speed(a),i.trigger("speedchange",a)},screenchange:function(a){h.set_screen(a),i.trigger("screenchange",a)},volumechange:function(a){h.set_volume(1*a),i.trigger("volumechange",1*a)},fullscreenchange:function(a){i.trigger("screenchange",a)},error:function(a){i.trigger("error",a.code),h.set_error_detail(a.code,a.message,a.param)},close:function(){i.trigger("close")},jumpstepchange:function(a){h.set_jumpstep(1*a),i.trigger("jumpstepchange",1*a)},scalemodechange:function(a){h.set_scalemode(a),i.trigger("scalemodechange",a)},topmostchange:function(a){h.set_topmost(a),i.trigger("topmostchange",a)},videosettingchange:function(a){h.set_video(a),i.trigger("videosettingchange",a)},html5_video_supported:function(a){i.trigger("html5_video_supported",a)},playbackrateschange:function(a){h.set_playback_rates(a),i.trigger("playbackrateschange",a)},subtitlevisibilitychange:function(a){h.set_subtitle_visibility(a),i.trigger("subtitlevisibilitychange",a)},fetch_player_id:function(a){h.set_player_id(a)},fetch_hardware_id:function(a){h.set_hardware_id(a)},fetch_video_info:function(a){h.set_video_info(a)},fetch_get_lms_data:function(a){h.get_lms_data_callback_fn()(a)},fetch_hls_frag_data:function(a){h.set_hls_frag_data(a),i.trigger("hlsfragchange",a)},fetch_main_media_subtitles:function(a){h.set_main_media_subtitles(JSON.parse(a))},repeat_stat_change:function(a){h.set_repeat_stat(a),i.trigger("repeat_stat_change",a)},check_device_orientation:function(){p()},check_device_motion:function(){q()},subtitle_sizechange:function(a){h.set_subtitle_font_size(parseInt(a)),i.trigger("subtitle_sizechange",parseInt(a))},call_intent_uri:function(a){s(a),i.trigger("call_intent_uri",a)}}};return k(),{init:function(a){k()},connect:function(){l()},getVersion:function(){return i.getVersion()},on:function(a,b){return i.on(a,b)},off:function(a){return i.off(a)},get_progress:function(){return h.get_progress()},play:function(a){i.send("play",void 0!==a?parseInt(a):null)},pause:function(){i.send("pause")},mute:function(){i.send("mute")},ff:function(){i.send("ff")},rw:function(){i.send("rw")},set_current_time:function(a){i.send("set_current_time",parseInt(a))},get_current_time:function(){return h.get_progress().position},set_volume:function(a){i.send("set_volume",Math.min(100,Math.max(0,a)))},get_volume:function(){return h.get_volume()},set_screen:function(){i.send("set_screen")},get_screen:function(){return h.get_screen()},set_jumpstep:function(a){i.send("set_jumpstep",a),h.set_jumpstep(1*a)},get_jumpstep:function(){return h.get_jumpstep()},set_control_visibility:function(a){i.send("set_control_visibility",a),h.set_control_visibility(a)},get_control_visibility:function(){return!0===h.get_control_visibility()},set_video_visibility:function(a){i.send("set_video_visibility",a),h.set_video_visibility(a)},get_video_visibility:function(){return!0===h.get_video_visibility()},set_scalemode:function(a){"|letterbox|stretch|zoom|none|".indexOf(a)>=0&&i.send("set_scalemode",a)},get_scalemode:function(){return h.get_scalemode()},set_speed:function(a){i.send("set_speed",parseFloat(Math.min(4,Math.max(.5,a))).toFixed(1))},get_speed:function(){return h.get_speed()},set_topmost:function(a){i.send("set_topmost",a?1:0)},get_topmost:function(){return h.get_topmost()},set_brightness:function(a){i.send("set_brightness",Math.min(50,Math.max(-50,a)))},get_brightness:function(){return h.get_video().brightness},set_contrast:function(a){i.send("set_contrast",Math.min(50,Math.max(-50,a)))},get_contrast:function(){return h.get_video().contrast},set_saturation:function(a){i.send("set_saturation",Math.min(50,Math.max(-50,a)))},get_saturation:function(){return h.get_video().saturation},set_repeat_start:function(a){i.send("set_sectiontime",{type:1,value:a||-1})},set_repeat_end:function(a){i.send("set_sectiontime",{type:2,value:a||-1})},unset_repeat:function(){i.send("set_sectiontime",{type:0,value:-1})},get_repeat:function(){return h.get_repeat_stat()},refresh_bookmark:function(){i.send("refresh_bookmark")},enable_fullscreen_button:function(){i.send("enable_fullscreen_button")},get_player_id:function(){return h.get_player_id()},get_player_type:function(){return h.get_player_type()},get_hardware_id:function(){return h.get_hardware_id()},set_subtitle_visibility:function(a){i.send("set_subtitle_visibility",a)},get_video_info:function(){return h.get_video_info()},set_playback_rates:function(a){i.send("set_playback_rates",a)},get_playback_rates:function(){return JSON.parse(h.get_playback_rates())},set_lms_check:function(){i.send("set_lms_check")},set_keyframe_seek_default:function(a){i.send("set_keyframe_seek_default",a)},set_short_key:function(a){i.send("set_short_key",a)},set_enable_close_event:function(a){h.set_enable_close_event(a),i.send("set_enable_close_event",a)},get_enable_close_event:function(){return h.get_enable_close_event()},set_close_callback_fn:function(a){h.set_close_callback_fn(a),i.send("set_close_callback_fn",h.get_close_callback_fn())},get_lms_data:function(a){h.set_lms_data_callback_fn(a),i.send("get_lms_data")},set_controls_inactive_time:function(a){h.set_controls_inactive_time(a),i.send("set_controls_inactive_time",a)},get_controls_inactive_time:function(){return h.get_controls_inactive_time()},get_hls_frag_data:function(){return JSON.parse(h.get_hls_frag_data())},set_subtitle_shadow_rect:function(a){i.send("set_subtitle_shadow_rect",a),h.set_subtitle_shadow_rect(a)},get_subtitle_shadow_rect:function(){return h.get_subtitle_shadow_rect()},set_subtitle_activity:function(a){i.send("set_subtitle_activity",a)},get_subtitle_activity:function(){return h.get_subtitle_activity()},set_controls_activity:function(a){i.send("set_controls_activity",a)},get_controls_activity:function(){return h.get_controls_activity()},set_controlbar_progress_only:function(a){i.send("set_controlbar_progress_only",a),h.set_controlbar_progress_only(a)},get_controlbar_progress_only:function(){return h.get_controlbar_progress_only()},set_controlbar_hide_playing:function(a){i.send("set_controlbar_hide_playing",a),h.set_controlbar_hide_playing(a)},get_controlbar_hide_playing:function(){h.get_controlbar_hide_playing()},set_current_subtitle:function(a){var b=h.get_main_media_subtitles();void 0!==b&&((b.length-1<a||a<0)&&(a=0),i.send("set_current_subtitle",a))},get_subtitles_list:function(){var a=h.get_main_media_subtitles(),b=[];if(!a||a.length<1)return null;for(var c in a)b.push({subtitle_name:a[c].subtitle_name,subtitle_language_code:a[c].subtitle_language_code,default:a[c].default});return b},get_error_detail:function(){return h.get_error_detail()},dispose:function(){i.send("dispose")},set_ratio:function(a){i.send("set_ratio",a)},set_vr_overlay:function(a){n(a)},set_custom_error:function(a,b,c){i.send("set_custom_error",{code:a,message:b,param:c}),h.set_custom_error(a,b,c)},get_custom_error:function(){return h.get_custom_error()},get_subtitle_font_size:function(){return h.get_subtitle_font_size()},set_subtitle_font_size:function(a){i.send("set_subtitle_font_size",parseInt(a))}}};window.VgControllerClient=VgControllerClient,window.Kollus=window.Kollus||{},window.Kollus.VideogatewayController=VgControllerClient;
